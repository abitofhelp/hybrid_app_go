<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1253px" preserveAspectRatio="none" style="width:1397px;height:1253px;background:#FFFFFF;" version="1.1" viewBox="0 0 1397 1253" width="1397px" zoomAndPan="magnify"><title>Application Error Re-export Pattern
Preventing Transitive Domain Access</title><defs/><g><g class="title" data-source-line="3"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="439.5703" x="474.2148" y="37.1182">Application Error Re-export Pattern</text><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="458.9385" x="464.5308" y="63.8555">Preventing Transitive Domain Access</text></g><!--cluster Domain--><g class="cluster" data-entity="Domain" data-source-line="5" data-uid="ent0002" id="cluster_Domain"><path d="M567.5,85.4746 L677.082,85.4746 A3.75,3.75 0 0 1 679.582,87.9746 L686.582,108.4893 L804.5,108.4893 A2.5,2.5 0 0 1 807,110.9893 L807,281.0646 A2.5,2.5 0 0 1 804.5,283.5646 L567.5,283.5646 A2.5,2.5 0 0 1 565,281.0646 L565,87.9746 A2.5,2.5 0 0 1 567.5,85.4746" fill="#FFF9E6" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="565" x2="686.582" y1="108.4893" y2="108.4893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.582" x="569" y="101.5498">Domain Layer</text></g><!--cluster Application--><g class="cluster" data-entity="Application" data-source-line="17" data-uid="ent0004" id="cluster_Application"><path d="M349.5,400.1046 L487.2803,400.1046 A3.75,3.75 0 0 1 489.7803,402.6046 L496.7803,423.1193 L644.5,423.1193 A2.5,2.5 0 0 1 647,425.6193 L647,934.8746 A2.5,2.5 0 0 1 644.5,937.3746 L349.5,937.3746 A2.5,2.5 0 0 1 347,934.8746 L347,402.6046 A2.5,2.5 0 0 1 349.5,400.1046" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="347" x2="496.7803" y1="423.1193" y2="423.1193"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.7803" x="351" y="416.1798">Application Layer</text></g><!--cluster Presentation--><g class="cluster" data-entity="Presentation" data-source-line="38" data-uid="ent0007" id="cluster_Presentation"><path d="M147.5,111.0046 L297.4961,111.0046 A3.75,3.75 0 0 1 299.9961,113.5046 L306.9961,134.0193 L386.5,134.0193 A2.5,2.5 0 0 1 389,136.5193 L389,255.5446 A2.5,2.5 0 0 1 386.5,258.0446 L147.5,258.0446 A2.5,2.5 0 0 1 145,255.5446 L145,113.5046 A2.5,2.5 0 0 1 147.5,111.0046" fill="#FFE4E1" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="145" x2="306.9961" y1="134.0193" y2="134.0193"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="148.9961" x="149" y="127.0798">Presentation Layer</text></g><!--cluster Infrastructure--><g class="cluster" data-entity="Infrastructure" data-source-line="47" data-uid="ent0009" id="cluster_Infrastructure"><path d="M673.5,408.6146 L835.2266,408.6146 A3.75,3.75 0 0 1 837.7266,411.1146 L844.7266,431.6293 L996.5,431.6293 A2.5,2.5 0 0 1 999,434.1293 L999,604.2046 A2.5,2.5 0 0 1 996.5,606.7046 L673.5,606.7046 A2.5,2.5 0 0 1 671,604.2046 L671,411.1146 A2.5,2.5 0 0 1 673.5,408.6146" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="671" x2="844.7266" y1="431.6293" y2="431.6293"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.7266" x="675" y="424.6898">Infrastructure Layer</text></g><!--class DomainError--><g class="entity" data-entity="DomainError" data-source-line="6" data-uid="ent0003" id="entity_DomainError"><rect fill="#FFFFFF" height="146.0879" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="210.6211" x="580.69" y="121.4746"/><ellipse cx="635.7183" cy="135.4746" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M638.1915,141.6177 Q637.6104,141.9165 636.9713,142.0659 Q636.3321,142.2153 635.6265,142.2153 Q633.1197,142.2153 631.7999,140.5635 Q630.48,138.9116 630.48,135.7905 Q630.48,132.6611 631.7999,131.0093 Q633.1197,129.3574 635.6265,129.3574 Q636.3321,129.3574 636.9796,129.5068 Q637.627,129.6563 638.1915,129.9551 L638.1915,132.6777 Q637.5606,132.0967 636.9671,131.8269 Q636.3736,131.5571 635.7427,131.5571 Q634.398,131.5571 633.7132,132.6238 Q633.0284,133.6904 633.0284,135.7905 Q633.0284,137.8823 633.7132,138.949 Q634.398,140.0156 635.7427,140.0156 Q636.3736,140.0156 636.9671,139.7458 Q637.5606,139.4761 638.1915,138.895 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93.0645" x="653.2183" y="141.0425">domain/error</text><line style="stroke:#000000;stroke-width:1;" x1="581.69" x2="790.3111" y1="149.4746" y2="149.4746"/><ellipse cx="591.69" cy="163.4819" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="125.9043" x="598.69" y="167.5498">ErrorType : struct</text><ellipse cx="591.69" cy="180.4966" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="113.4629" x="598.69" y="184.5645">ErrorKind : type</text><ellipse cx="591.69" cy="197.5112" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="158.4434" x="598.69" y="201.5791">ValidationError : const</text><ellipse cx="591.69" cy="214.5259" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="186.6211" x="598.69" y="218.5938">InfrastructureError : const</text><ellipse cx="591.69" cy="231.5405" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="177.8779" x="598.69" y="235.6084">Result[T] : generic struct</text><line style="stroke:#000000;stroke-width:1;" x1="581.69" x2="790.3111" y1="242.5479" y2="242.5479"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="184.9258" x="586.69" y="260.623">Canonical error definitions</text></g><!--class AppError--><g class="entity" data-entity="AppError" data-source-line="18" data-uid="ent0005" id="entity_AppError"><rect fill="#FFFFFF" height="163.1025" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="232.5439" x="393.73" y="436.1046"/><ellipse cx="447.7158" cy="450.1046" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M450.189,456.2477 Q449.6079,456.5465 448.9688,456.6959 Q448.3296,456.8453 447.624,456.8453 Q445.1172,456.8453 443.7974,455.1935 Q442.4776,453.5416 442.4776,450.4205 Q442.4776,447.2911 443.7974,445.6393 Q445.1172,443.9874 447.624,443.9874 Q448.3296,443.9874 448.9771,444.1368 Q449.6245,444.2863 450.189,444.5851 L450.189,447.3077 Q449.5581,446.7267 448.9646,446.4569 Q448.3711,446.1871 447.7403,446.1871 Q446.3955,446.1871 445.7107,447.2538 Q445.0259,448.3204 445.0259,450.4205 Q445.0259,452.5123 445.7107,453.579 Q446.3955,454.6456 447.7403,454.6456 Q448.3711,454.6456 448.9646,454.3758 Q449.5581,454.1061 450.189,453.525 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.0723" x="465.2158" y="455.6725">application/error</text><line style="stroke:#000000;stroke-width:1;" x1="394.73" x2="625.2739" y1="464.1046" y2="464.1046"/><ellipse cx="404.73" cy="478.1119" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.0293" x="411.73" y="482.1798">ErrorType : type alias</text><ellipse cx="404.73" cy="495.1266" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150.1787" x="411.73" y="499.1945">ErrorKind : type alias</text><ellipse cx="404.73" cy="512.1412" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="148.709" x="411.73" y="516.2091">Result[T] : type alias</text><ellipse cx="404.73" cy="529.1559" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="180.3662" x="411.73" y="533.2238">ValidationError : var alias</text><ellipse cx="404.73" cy="546.1705" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="208.5439" x="411.73" y="550.2384">InfrastructureError : var alias</text><line style="stroke:#000000;stroke-width:1;" x1="394.73" x2="625.2739" y1="557.1779" y2="557.1779"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="199.2197" x="399.73" y="575.253">Re-exports domain/error</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="203.6016" x="399.73" y="592.2677">Zero overhead (type aliases)</text></g><!--class Writer--><g class="entity" data-entity="Writer" data-source-line="29" data-uid="ent0006" id="entity_Writer"><rect fill="#FFFFFF" height="112.0586" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="268.3232" x="362.84" y="809.3246"/><ellipse cx="405.8439" cy="823.3246" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M408.3171,829.4677 Q407.736,829.7665 407.0968,829.9159 Q406.4577,830.0653 405.7521,830.0653 Q403.2453,830.0653 401.9254,828.4135 Q400.6056,826.7616 400.6056,823.6405 Q400.6056,820.5111 401.9254,818.8593 Q403.2453,817.2074 405.7521,817.2074 Q406.4577,817.2074 407.1051,817.3568 Q407.7526,817.5063 408.3171,817.8051 L408.3171,820.5277 Q407.6862,819.9467 407.0927,819.6769 Q406.4992,819.4071 405.8683,819.4071 Q404.5236,819.4071 403.8388,820.4738 Q403.154,821.5404 403.154,823.6405 Q403.154,825.7323 403.8388,826.799 Q404.5236,827.8656 405.8683,827.8656 Q406.4992,827.8656 407.0927,827.5958 Q407.6862,827.3261 408.3171,826.745 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="174.8154" x="423.3439" y="828.8925">application/port/outward</text><line style="stroke:#000000;stroke-width:1;" x1="363.84" x2="630.1632" y1="837.3246" y2="837.3246"/><ellipse cx="373.84" cy="851.3319" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.6182" x="380.84" y="855.3998">WriterPort : interface</text><ellipse cx="373.84" cy="868.3466" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.3232" x="380.84" y="872.4145">Write(ctx, message) : Result[Unit]</text><line style="stroke:#000000;stroke-width:1;" x1="363.84" x2="630.1632" y1="879.3539" y2="879.3539"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="215.9199" x="368.84" y="897.4291">Static dispatch via generics</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="201.2432" x="368.84" y="914.4438">Returns domain/error.Result</text></g><!--class GreetCmd--><g class="entity" data-entity="GreetCmd" data-source-line="39" data-uid="ent0008" id="entity_GreetCmd"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="212.8779" x="160.56" y="147.0046"/><ellipse cx="173.56" cy="161.0046" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M176.0331,167.1477 Q175.4521,167.4465 174.8129,167.5959 Q174.1738,167.7453 173.4682,167.7453 Q170.9614,167.7453 169.6415,166.0935 Q168.3217,164.4416 168.3217,161.3205 Q168.3217,158.1911 169.6415,156.5393 Q170.9614,154.8874 173.4682,154.8874 Q174.1738,154.8874 174.8212,155.0368 Q175.4687,155.1862 176.0331,155.4851 L176.0331,158.2077 Q175.4023,157.6267 174.8088,157.3569 Q174.2153,157.0871 173.5844,157.0871 Q172.2397,157.0871 171.5549,158.1538 Q170.8701,159.2204 170.8701,161.3205 Q170.8701,163.4123 171.5549,164.479 Q172.2397,165.5456 173.5844,165.5456 Q174.2153,165.5456 174.8088,165.2758 Q175.4023,165.0061 176.0331,164.425 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="184.8779" x="185.56" y="166.5725">presentation/cli/command</text><line style="stroke:#000000;stroke-width:1;" x1="161.56" x2="372.4379" y1="175.0046" y2="175.0046"/><ellipse cx="171.56" cy="189.0119" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="74.5869" x="178.56" y="193.0798">Run() : int</text><line style="stroke:#000000;stroke-width:1;" x1="161.56" x2="372.4379" y1="200.0193" y2="200.0193"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="33.1748" x="166.56" y="218.0945">Uses</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.2744" x="204.6567" y="218.0945">application/error</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="128.1055" x="166.56" y="235.1091">NOT domain/error</text></g><!--class ConsoleWriter--><g class="entity" data-entity="ConsoleWriter" data-source-line="48" data-uid="ent0010" id="entity_ConsoleWriter"><rect fill="#FFFFFF" height="146.0879" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="295.0928" x="687.45" y="444.6146"/><ellipse cx="753.2039" cy="458.6146" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M755.6771,464.7577 Q755.096,465.0565 754.4568,465.2059 Q753.8177,465.3553 753.1121,465.3553 Q750.6053,465.3553 749.2854,463.7035 Q747.9656,462.0516 747.9656,458.9305 Q747.9656,455.8011 749.2854,454.1493 Q750.6053,452.4974 753.1121,452.4974 Q753.8177,452.4974 754.4651,452.6468 Q755.1126,452.7963 755.6771,453.0951 L755.6771,455.8177 Q755.0462,455.2367 754.4527,454.9669 Q753.8592,454.6971 753.2283,454.6971 Q751.8836,454.6971 751.1988,455.7638 Q750.514,456.8304 750.514,458.9305 Q750.514,461.0223 751.1988,462.089 Q751.8836,463.1556 753.2283,463.1556 Q753.8592,463.1556 754.4527,462.8858 Q755.0462,462.6161 755.6771,462.035 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="156.085" x="770.7039" y="464.1825">infrastructure/adapter</text><line style="stroke:#000000;stroke-width:1;" x1="688.45" x2="981.5428" y1="472.6146" y2="472.6146"/><ellipse cx="698.45" cy="486.6219" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="155.251" x="705.45" y="490.6898">ConsoleWriter : struct</text><ellipse cx="698.45" cy="503.6366" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.3232" x="705.45" y="507.7045">Write(ctx, message) : Result[Unit]</text><ellipse cx="698.45" cy="520.6512" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="271.0928" x="705.45" y="524.7191">NewWriter(io.Writer) : *ConsoleWriter</text><line style="stroke:#000000;stroke-width:1;" x1="688.45" x2="981.5428" y1="531.6586" y2="531.6586"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.041" x="693.45" y="549.7338">Implements</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.3848" x="782.4129" y="549.7338">WriterPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="33.1748" x="693.45" y="566.7484">Uses</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107.7617" x="731.5467" y="566.7484">domain/error</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.8164" x="844.2303" y="566.7484">directly</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="192.7461" x="693.45" y="583.763">(allowed for Infrastructure)</text></g><g class="entity" data-entity="GMN16" data-source-line="69" data-uid="ent0017" id="entity_GMN16"><path d="M1018,362.5646 L1018,672.7516 L1390,672.7516 L1390,372.5646 L1380,362.5646 L1018,362.5646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1380,362.5646 L1380,372.5646 L1390,372.5646 L1380,362.5646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131.625" x="1024" y="380.6344">Re-export Pattern</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="351" x="1024" y="396.4338">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="1024" y="412.2331">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.7837" x="1024" y="428.0324">```go</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.3457" x="1024" y="443.8317">import (</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150.395" x="1033.1406" y="459.631">domerr "domain/error"</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="1024" y="475.4303">)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="1024" y="491.2296">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.915" x="1024" y="507.029">// Type aliases - zero overhead</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="233.8159" x="1024" y="522.8283">type ErrorType = domerr.ErrorType</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="228.522" x="1024" y="538.6276">type ErrorKind = domerr.ErrorKind</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="254.0903" x="1024" y="554.4269">type Result[T any] = domerr.Result[T]</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="1024" y="570.2262">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.0415" x="1024" y="586.0255">// Variable re-exports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="31.5225" x="1024" y="601.8249">var (</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="266.5762" x="1033.1406" y="617.6242">ValidationError = domerr.ValidationError</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="318.9063" x="1033.1406" y="633.4235">InfrastructureError = domerr.InfrastructureError</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="1024" y="649.2228">)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="1024" y="665.0221">```</text></g><g class="entity" data-entity="GMN19" data-source-line="91" data-uid="ent0020" id="entity_GMN19"><path d="M11,370.4646 L11,664.8523 A0,0 0 0 0 11,664.8523 L331,664.8523 A0,0 0 0 0 331,664.8523 L331,380.4646 L321,370.4646 L218.85,370.4646 L253.04,242.2146 L210.85,370.4646 L11,370.4646 A0,0 0 0 0 11,370.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M321,370.4646 L321,380.4646 L331,380.4646 L321,370.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.5049" x="17" y="388.5344">Presentation Usage</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="299" x="17" y="404.3338">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="17" y="420.1331">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.7837" x="17" y="435.9324">```go</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.3457" x="17" y="451.7317">import (</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="168.0605" x="26.1406" y="467.531">apperr "application/error"</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="17" y="483.3303">)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="274.2261" x="17" y="499.1296">// NOT: import domerr "domain/error" &#10060;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="17" y="514.929">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.1108" x="17" y="530.7283">errInfo := result.ErrorInfo()</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="17" y="546.5276">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137.1221" x="17" y="562.3269">switch errInfo.Kind {</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="184.4438" x="17" y="578.1262">case apperr.ValidationError:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="252.5225" x="26.1406" y="593.9255">fmt.Fprintln(os.Stderr, "Invalid input")</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.6089" x="17" y="609.7249">case apperr.InfrastructureError:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="255.9883" x="26.1406" y="625.5242">fmt.Fprintln(os.Stderr, "System error")</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="8.252" x="17" y="641.3235">}</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="17" y="657.1228">```</text></g><g class="entity" data-entity="GMN22" data-source-line="112" data-uid="ent0023" id="entity_GMN22"><path d="M668.5,749.7546 L668.5,980.945 A0,0 0 0 0 668.5,980.945 L1001.5,980.945 A0,0 0 0 0 1001.5,980.945 L1001.5,759.7546 L991.5,749.7546 L839,749.7546 L835,591.1246 L831,749.7546 L668.5,749.7546 A0,0 0 0 0 668.5,749.7546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M991.5,749.7546 L991.5,759.7546 L1001.5,759.7546 L991.5,749.7546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.3975" x="674.5" y="767.8244">Infrastructure Usage</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="312" x="674.5" y="783.6238">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="674.5" y="799.4231">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.7837" x="674.5" y="815.2224">```go</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.3457" x="674.5" y="831.0217">import (</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="247.877" x="683.6406" y="846.821">domerr "domain/error"  // &#9989; Allowed</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="674.5" y="862.6203">)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="674.5" y="878.4196">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186.5576" x="674.5" y="894.219">// Infrastructure CAN access</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155.4795" x="674.5" y="910.0183">// domain/error directly</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="205.3213" x="674.5" y="925.8176">return domerr.Err[model.Unit](</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="209.6758" x="683.6406" y="941.6169">domerr.NewInfrastructureError(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="85.2744" x="692.7813" y="957.4162">"I/O failed"))</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="674.5" y="973.2155">```</text></g><!--reverse link DomainError to AppError--><g class="link" data-entity-1="DomainError" data-entity-2="AppError" data-source-line="60" data-uid="lnk11" id="link_DomainError_AppError"><path codeLine="60" d="M643.3964,273.2562 C616.0764,323.1062 582.64,384.1146 554.37,435.7046" fill="none" id="DomainError-backto-AppError" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="646.28,267.9946,638.4468,273.9647,643.877,272.3793,645.4623,277.8095,646.28,267.9946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="68.0659" x="635.5554" y="313.6344">re-exports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="89.0767" x="625.05" y="329.4338">(type aliases)</text></g><!--reverse link AppError to Writer--><g class="link" data-entity-1="AppError" data-entity-2="Writer" data-source-line="61" data-uid="lnk12" id="link_AppError_Writer"><path codeLine="61" d="M506.7246,605.7004 C504.3046,670.0604 501.21,752.3446 499.09,808.8746" fill="none" id="AppError-backto-Writer" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="506.95,599.7046,502.6147,608.548,506.7621,604.7011,510.609,608.8486,506.95,599.7046" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.5166" x="503.72" y="716.8244">uses</text></g><!--reverse link AppError to GreetCmd--><g class="link" data-entity-1="AppError" data-entity-2="GreetCmd" data-source-line="62" data-uid="lnk13" id="link_AppError_GreetCmd"><path codeLine="62" d="M445.1194,430.9202 C398.8594,369.7902 340.64,292.8446 302.33,242.2146" fill="none" id="AppError-backto-GreetCmd" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="448.74,435.7046,446.4987,426.1142,445.7228,431.7176,440.1194,430.9417,448.74,435.7046" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.0869" x="367.73" y="321.6344">uses &#9989;</text></g><!--reverse link DomainError to ConsoleWriter--><g class="link" data-entity-1="DomainError" data-entity-2="ConsoleWriter" data-source-line="63" data-uid="lnk14" id="link_DomainError_ConsoleWriter"><path codeLine="63" d="M722.1454,273.4373 C746.5654,326.0673 776.95,391.5446 801.37,444.1746" fill="none" id="DomainError-backto-ConsoleWriter" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="719.62,267.9946,719.7796,277.8422,721.7245,272.5302,727.0365,274.475,719.62,267.9946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.0869" x="748.15" y="321.6344">uses &#9989;</text></g><!--link GreetCmd to DomainError--><g class="link" data-entity-1="GreetCmd" data-entity-2="DomainError" data-source-line="66" data-uid="lnk15" id="link_GreetCmd_DomainError"><path codeLine="66" d="M373.82,194.5246 C437.22,194.5246 511.29,194.5246 574.47,194.5246" fill="none" id="GreetCmd-to-DomainError" style="stroke:#FF0000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#FF0000" points="580.47,194.5246,571.47,190.5246,575.47,194.5246,571.47,198.5246,580.47,194.5246" style="stroke:#FF0000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.6748" x="427.0588" y="172.5944">&#10060; FORBIDDEN</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="171.6724" x="391.56" y="188.3938">Must use application/error</text></g><!--link AppError to GMN16--><g class="link" data-entity-1="AppError" data-entity-2="GMN16" data-source-line="69" data-uid="lnk18" id="link_AppError_GMN16"><path d="M562.29,435.7346 C593.43,394.8446 636.92,349.4246 688.5,327.0646 C748.24,301.1646 920.43,304.4846 981.5,327.0646 C1004.76,335.6646 1027.22,347.9046 1048.36,362.0746" fill="none" id="AppError-GMN16" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><g class="legend" data-source-line="128"><rect fill="none" height="248.2051" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="444" x="934" y="991.945"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127.9961" x="939" y="1011.0202">Pattern Benefits</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="434" x="939" y="1028.0349">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="227.5234" x="939" y="1045.0495">&#9989; Zero overhead (type aliases)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="282.498" x="939" y="1062.0642">&#9989; Compile-time enforcement (go.mod)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="243.0752" x="939" y="1079.0788">&#9989; Clear boundary between layers</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="247.915" x="939" y="1096.0935">&#9989; Single source of truth (Domain)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="284.9385" x="939" y="1113.1081">&#9989; Presentation decoupled from Domain</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="939" y="1130.1228">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.999" x="939" y="1147.1374">Why This Matters</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="434" x="939" y="1164.1521">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="243.4893" x="939" y="1181.1667">&#8226; Domain is shareable across apps</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="300.248" x="939" y="1198.1814">&#8226; Application/Presentation are app-specific</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="256.0879" x="939" y="1215.196">&#8226; Multiple UIs can use same Domain</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="185.3838" x="939" y="1232.2107">&#8226; Forces use case thinking</text></g><!--SRC=[lLTDR-Cs4BthLqoTGstlMaRHTj4rkWMoYLq4RJwGEBj0Dm72I6ERM8aKIDfPjrYWbzvwwAMtzjAVbb_I8Id9bEmWBP0MC62RypYSUJFpA7rY5fWZ51dZ8eeCDnd2Vb5aF666Im5ZfQI2SnpWXq8g0sVC65JYIfmfNA4mNCnXgfZGtF0Lmg7CoH7i9mbg7KK5IzwpEKAdNF-UhL5rWEaAk3UPJ5wENy1F4K2ICQsXaphB4Et10TG7Od40ptnOqtM1C09jr38neU4xBb8o6BANoszOnbENaVSpWaGANMqw4ZF5l9kbmbs8SzJBpBoRNjFw70KgdeJd3WRkwu09AOYv35pqaEAC2svFrMJ_67qC60b9tj0IhkwDlvfyENuPSiCsve0WslGmEvO4eEoPVe2XXZ7CSykuJUAAgGPYDv5DLCbLlrytbOQmvls-i_-0Ie9SeLeWIw6x2GPrpv6vcnNhRoYNvewfr97pLd5gs9eQ__VCjl88kA3VCvPWQEmcviDpoAb_gKuzGfMSN58bhviPN1WwD86KwuAPP04hpghkq6KQvqXCY6Q6iVUurH8qKff6gjqJZMKQcF4Nuy_2fYW2-p39-32HUSw4J_zRXMWEyhGcu7mfkZsVUvZC9V5A6MqrM9d6oUcqaS9MxCtA1z6t37lZ5vFF9vCmVjv035dA2bDkFg39aHcsQjXSRGd0FwpXCpZ1E- -XosNiVrbal-4zfEWeBpBIIc4iKPi-AXag2MnsChM6miHaQmVfiYoJTvZ2ZCQYoKkl8lHJ2ZLp_Ei5BtGKYj_NSRoPzH6eUdwkH6i-QfJTKlEq95lJL7U7DyBz7xzidTXckmPIh1EfRdcQeeXgJx7YyuM9lsd8zfv2UyRzdx_2vFJyzT7XuVZaIXmljR7kOAlheaX8W-1SWPpLMKSDtQWk8rU1-zz_UzgF5PYRcvkvf6-Uk_EwhenKOWgoTL6HfMTt38Sm3Ke10_Wn5392k4fj5FfLwI-kbneO9zHDZ5sgC9LU0nFhwmskbl4of3TCSNPBL_kcPyXWTTcdr5Rssb7BuETWXyZN6tOO7JMEomWf6LlPihwtqXYPsm9NxUCAt12yIpl2JrVX1wjAFUYgkdt5bl4JZQI2eshNpYwm7MvFe7z4X8JHAsBSbi9NpgvrNPleEsulZ18NkoexIMH-77PmFt9Xpd8JJmf5wfs9hjJnXKa9-zmAyChYITUBfUdqMhvsbEKHVnThRJ3t3p8TBq-FrB0jdFr-I_kVk9J_UaPT3KcvOD_hS32phKWFza-0-MTOPmxTX9gktEqUJEUxNAQOnUwU2IE9wRRPKGCF0QhUy1HcZ6UOTdhRmvBXtFvnSkWdn0iVlAQ7ZHat-hzHm0RJu9XxvAdCGWvaNb0Y0yFflGAfkrNYRatepcLCzDIu34b_RkLIf4ojuHRD7QA0p3uvw19pGQyNf5fQBic9xJ5YpooWw- -MobD3Br9Cv98kQhfb5VMbHqQEjRUBDKmNNCEne-z_OktdlwgN7JfPBvX2fyGiKPAUVcW-TOaAdls7ZPHeYyKDT849d_6an1-Jhd3A52wFD0sxS5UfPddr5bR29hO0sXcT8fW55- -9LzjVlh6Ylm40]--></g></svg>